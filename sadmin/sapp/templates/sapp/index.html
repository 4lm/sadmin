{% extends 'sapp/base.html' %}
{% load icons %}


{% block title %}
    {{ page_title }}
{% endblock %}

{% block content %}
    <h2>Courses</h2>
    <a href="{% url 'add_course' %}" class="btn btn-primary">Add Course</a>
    <table class="table table-striped table-bordered">
        <tr>
            <th class="col-sm-3">Course Name</th>
            <th class="col-sm-3">Students</th>
            <th class="col-sm-3">Edit Course</th>
        </tr>
        {% for course in courses %}
            <tr>
                <td>{{ course.name }}</td>
                <td>{{ course.students.all|join:', ' }}</td>
                <td><a href="{% url 'edit_course' pk=course.pk %}" {% icon 'edit' %}></a></td>
            </tr>

        {% endfor %}
    </table>
    <h2>Students</h2>
    <a href="{% url 'add_student' %}" class="btn btn-primary">Add Student</a>
    <table class="table table-striped table-bordered">
        <tr>
            <th class="col-sm-8">Student Name</th>
            <th class="col-sm-auto">Edit Student</th>
        </tr>
        {% for student in students %}
            <tr>
                <td>{{ student.first_name }} {{ student.last_name }}</td>
                <td><a href="{% url 'edit_student' pk=student.pk %}" {% icon 'edit' %}></a></td>
            </tr>

        {% endfor %}
    </table>
{% endblock %}
